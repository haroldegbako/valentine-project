<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joviale - Notre Histoire</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/story.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Bouton Audio Discret (coin supérieur droit) -->
    <div class="audio-toggle">
        <button class="audio-btn active" id="audioToggle" aria-label="Toggle music">
            <svg class="sound-on" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
            <svg class="sound-off" viewBox="0 0 24 24" fill="currentColor">
                <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03V16c1.48-.73 2.5-2.25 2.5-4.02zM18.97 3.34l-1.41 1.41C15.51 5.37 14 6.96 14 9v2h3l4 4 1.41-1.41L19.41 12H22v-2h-2.59l2.45-2.45-1.41-1.41-2.07 2.07-.04-.04zM3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>
            </svg>
        </button>
    </div>

    <custom-header></custom-header>
    
    <main class="story-container">
        <!-- J - Joie -->
        <section class="letter-card" data-letter="J">
            <div class="image-container">
                <img src="assets/images/J.jpg" alt="Joie" class="letter-image">
            </div>
            <div class="content-container">
                <h2 class="letter-title">J - Joie</h2>
                <p class="letter-text" data-text="Ton rire est une mélodie qui réchauffe mon cœur. Chaque moment avec toi est une étincelle de bonheur pur, comme un rayon de soleil après la pluie."></p>
            </div>
        </section>

        <!-- O - Originalité -->
        <section class="letter-card" data-letter="O">
            <div class="image-container">
                <img src="assets/images/O.jpg" alt="Originalité" class="letter-image">
            </div>
            <div class="content-container">
                <h2 class="letter-title">O - Originalité</h2>
                <p class="letter-text" data-text="Tu es une œuvre d'art unique, impossible à reproduire. Ta façon de voir le monde transforme l'ordinaire en extraordinaire, et je m'émerveille chaque jour de ta singularité."></p>
            </div>
        </section>

        <!-- V - Vérité -->
        <section class="letter-card" data-letter="V">
            <div class="image-container">
                <img src="assets/images/V.jpg" alt="Vérité" class="letter-image">
            </div>
            <div class="content-container">
                <h2 class="letter-title">V - Vérité</h2>
                <p class="letter-text" data-text="Entre nous, pas de masques ni de faux-semblants. Tes mots sincères sont comme une rivière claire où je peux me désaltérer, loin des mensonges du monde."></p>
            </div>
        </section>

        <!-- I - Innocence -->
        <section class="letter-card" data-letter="I">
            <div class="image-container">
                <img src="assets/images/I.jpg" alt="Innocence" class="letter-image">
            </div>
            <div class="content-container">
                <h2 class="letter-title">I - Innocence</h2>
                <p class="letter-text" data-text="Ton regard candide me rappelle la beauté des choses simples. Comme un enfant découvrant le monde, tu m'offres chaque jour un émerveillement nouveau."></p>
            </div>
        </section>

        <!-- A - Amour -->
        <section class="letter-card" data-letter="A">
            <div class="image-container">
                <img src="assets/images/A.jpg" alt="Amour" class="letter-image">
            </div>
            <div class="content-container">
                <h2 class="letter-title">A - Amour</h2>
                <p class="letter-text" data-text="Ce n'est pas un sentiment, c'est une évidence. Comme l'air que je respire, ton amour est devenu essentiel à mon existence. Je t'aime d'un amour qui ne demande rien, mais qui donne tout."></p>
            </div>
        </section>

        <!-- L - Loyauté -->
        <section class="letter-card" data-letter="L">
            <div class="image-container">
                <img src="assets/images/L.jpg" alt="Loyauté" class="letter-image">
            </div>
            <div class="content-container">
                <h2 class="letter-title">L - Loyauté</h2>
                <p class="letter-text" data-text="Ta fidélité est un roc dans les tempêtes de la vie. Je sais que peu importe les épreuves, tu seras toujours là, comme une étoile fixe dans mon ciel parfois tourmenté."></p>
            </div>
        </section>

        <!-- E - Éternité -->
        <section class="letter-card" data-letter="E">
            <div class="image-container">
                <img src="assets/images/E.jpg" alt="Éternité" class="letter-image">
            </div>
            <div class="content-container">
                <h2 class="letter-title">E - Éternité</h2>
                <p class="letter-text" data-text="Une vie ne suffirait pas à t'aimer comme tu le mérites. Alors je fais le vœu de te retrouver dans chaque existence, car mon âme reconnaîtrait la tienne entre mille."></p>
            </div>
        </section>
    </main>
    
    <custom-footer></custom-footer>

    <!-- Audio démarre par défaut -->
    <audio id="backgroundMusic" loop autoplay preload="auto" volume="0.4">
        <source src="./assets/audio/Rétine karaoké [19KirQ6z4gU].mp3" type="audio/mpeg">
        Votre navigateur ne supporte pas l'audio HTML5.
    </audio>

    <script src="components/header.js"></script>
    <script src="components/footer.js"></script>
    <script src="js/typing.js"></script>
    <script src="js/story.js"></script>
    <script src="script.js"></script>
    
    <!-- Script Audio - DÉMARRE AUTOMATIQUE -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const audio = document.getElementById('backgroundMusic');
            const toggleBtn = document.getElementById('audioToggle');
            
            let isPlaying = true; // ✅ DÉMARRE ACTIVÉ
            
            // Relance si bloqué par navigateur
            const startMusic = () => {
                audio.volume = 0.4;
                audio.play().then(() => {
                    toggleBtn.classList.add('active');
                }).catch(() => {
                    // Retry après interaction utilisateur
                    document.addEventListener('click', startMusic, { once: true });
                });
            };
            
            startMusic();
            
            // Toggle ON/OFF
            toggleBtn.addEventListener('click', () => {
                if (isPlaying) {
                    audio.pause();
                    toggleBtn.classList.remove('active');
                    isPlaying = false;
                } else {
                    audio.volume = 0.4;
                    audio.play();
                    toggleBtn.classList.add('active');
                    isPlaying = true;
                }
            });
        });
    </script>
</body>
</html>
